<?xml version="1.0" encoding="UTF-8"?>
<!--
    This file is part of InfoGrid(tm). You may not use this file except in
    compliance with the InfoGrid license. The InfoGrid license and important
    disclaimers are contained in the file LICENSE.InfoGrid.txt that you should
    have received with InfoGrid. If you have not received LICENSE.InfoGrid.txt
    or you do not consent to all aspects of the license and the disclaimers,
    no license is granted; do not use this file.
 
    For more information about InfoGrid go to http://infogrid.org/

    Copyright 1998-2008 by R-Objects Inc. dba NetMesh Inc., Johannes Ernst
    All rights reserved.
-->

<!DOCTYPE model PUBLIC '-//InfoGrid.org//InfoGrid Model//EN' 'http://infogrid.org/dtds/model.dtd'>
<model>
    <subjectarea ID="org.infogrid.lid.model.yadis">
        <name>org.infogrid.lid.model.yadis</name>
        <username>Yadis Subject Area</username>
        <userdescription>This Subject Area covers the concepts defined by the Yadis protocol.</userdescription>

        <dependson>
            <subjectareareference>
                <name>org.infogrid.model.Web</name>
            </subjectareareference>
        </dependson>

        <entitytype ID="org.infogrid.lid.model.yadis#XrdsServiceCollection">
            <name>XrdsServiceCollection</name>
            <username>XRDS Service Collection</username>
            <userdescription>A collection of XRDS services.</userdescription>
        </entitytype>

        <entitytype ID="org.infogrid.lid.model.yadis#XrdsService">
            <name>XrdsService</name>
            <username>XRDS Service</username>
            <userdescription>This represents a Yadis/XRDS Service. The concept of a ServiceType is
expressed by subclasses of this EntityType; as a result, this EntityType does not need to carry
the Type URI(s).</userdescription>
            
            <propertytype ID="org.infogrid.lid.model.yadis#XrdsService/Priority">
                <name>Priority</name>
                <username>Priority</username>
                <userdescription>Priority of this XRDS Service.</userdescription>
                <datatype>
                    <IntegerDataType/>
                </datatype>
                <isoptional/>
            </propertytype>
        </entitytype>

        <entitytype ID="org.infogrid.lid.model.yadis#Endpoint">
            <name>Endpoint</name>
            <userdescription>This represents an endpoint of a Yadis/XRDS Service.</userdescription>

            <propertytype ID="org.infogrid.lid.model.yadis#Endpoint/Priority">
                <name>Priority</name>
                <username>Priority</username>
                <userdescription>Priority of this endpoint.</userdescription>
                <datatype>
                    <IntegerDataType/>
                </datatype>
                <isoptional/>
            </propertytype>
        </entitytype>

        <relationshiptype ID="org.infogrid.lid.model.yadis#XrdsServiceCollection_Collects_XrdsService">
            <name>XrdsServiceCollection_Collects_XrdsService</name>
            <username>Collects</username>
            <userdescription>Relates the XRDS Services inside of an XRDS Service Collection
to the XRDS Service Collection itself.</userdescription>
            <src>
              <e>org.infogrid.lid.model.yadis#XrdsServiceCollection</e>
              <MultiplicityValue>0:N</MultiplicityValue>
            </src>
            <dest>
              <e>org.infogrid.lid.model.yadis#XrdsService</e>
              <MultiplicityValue>1:N</MultiplicityValue>
              <!-- This needs to be N, so we can have validated and non-validated collections
                     containing the same instances -->
            </dest>
        </relationshiptype>

        <relationshiptype ID="org.infogrid.lid.model.yadis#XrdsService_IsProvidedAt_Endpoint">
            <name>XrdsService_IsProvidedAt_Endpoint</name>
            <username>is provided at</username>
            <userdescription>Expresses at which endpoints an XRDS Service is available.</userdescription>
            <src>
              <e>org.infogrid.lid.model.yadis#XrdsService</e>
              <MultiplicityValue>0:N</MultiplicityValue>
            </src>
            <dest>
              <e>org.infogrid.lid.model.yadis#Endpoint</e>
              <MultiplicityValue>0:N</MultiplicityValue>
            </dest>
        </relationshiptype>

        <relationshiptype ID="org.infogrid.lid.model.yadis#Endpoint_IsOperatedBy_WebResource">
            <name>Endpoint_IsOperatedBy_WebResource</name>
            <username>is operated by</username>
            <userdescription>Expresses which WebResource acts as the Endpoint.</userdescription>
            <src>
              <e>org.infogrid.lid.model.yadis#Endpoint</e>
              <MultiplicityValue>0:1</MultiplicityValue>
            </src>
            <dest>
              <e>org.infogrid.model.Web#WebResource</e>
              <MultiplicityValue>0:n</MultiplicityValue>
            </dest>
        </relationshiptype>

        <relationshiptype ID="org.infogrid.lid.model.yadis#WebResource_HasXrdsLinkTo_WebResource">
            <name>WebResource_HasXrdsLinkTo_WebResource</name>
            <username>has XRDS link to</username>
            <userdescription>Relates a Web Resource to another Web Resource which contains
the XRDS/Yadis data about the first Web Resource.</userdescription>
            <src>
              <e>org.infogrid.model.Web#WebResource</e>
              <refines>org.infogrid.model.Web#WebResource_HasLinkTo_WebResource-S</refines>
              <MultiplicityValue>0:N</MultiplicityValue>
            </src>
            <dest>
              <e>org.infogrid.model.Web#WebResource</e>
              <refines>org.infogrid.model.Web#WebResource_HasLinkTo_WebResource-D</refines>
              <MultiplicityValue>0:N</MultiplicityValue>
            </dest>
        </relationshiptype>
    </subjectarea>
</model>
